<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì•ˆë…•, íŠ¹í—ˆ</title>
    <meta property="og:title" content="ì•ˆë…•, íŠ¹í—ˆ"/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content="/img/hellopatent_colorlogo.png"/>
    <meta property="og:description" content="ì´ˆë³´ìë¥¼ ìœ„í•œ íŠ¹í—ˆ ê²€ìƒ‰ ì„œë¹„ìŠ¤"/>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="/css/index.css" rel="stylesheet">
</head>
<style>
    #top-button {
        cursor: pointer;
        position: fixed;
        right: 115px;
        bottom: 50px;

        width: 60px;
        height: 60px;

        border-radius: 50%;
    }

    #info-button {
        cursor: pointer;
        position: fixed;
        right: 50px;
        bottom: 50px;

        width: 60px;
        height: 60px;

        border-radius: 50%;

        font-size: large;
    }

    /* ì‚¬ì´ë“œë°” */
    .side-bar {
        position: sticky;
        top: 200px;
        left: 50px;
        align-self: flex-start;

        width: 200px;
        height: 420px;
        padding: 20px;
        padding-top: 10px;
        margin: 50px 0;

        border-radius: 10px;
        background-color: white;
        box-shadow: 0 0 2px 0 gray;
        transition: all 0.2s ease-in-out;
    }

    #hide-side {
        cursor: pointer;
        display: flex;
        position: absolute;
        right: 10px;

        color: #999999;
    }

    .show-side {
        width: 50px;
        padding-left: 0;
        padding-right: 0;
        left: 0;

        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
    }

    .select-filter label {
        cursor: pointer;
        display: flex;
        align-items: center;
    }

    #select-country {
        overflow-y: scroll;
        height: 250px;
    }
    #select-country img {
        margin: 0 3px;
    }

    #more-country {
        position: absolute;
        top: 225px;
        display: grid;
        grid-template-columns: 1fr 1fr;

        width: 300px;
        padding: 5px;

        background: white;
        border: 1px solid #dfe1e5;
        border-radius: 10px;
    }

    #apply-filter {
        width: 200px;
        height: 35px;

        margin: 30px auto;

        font-size: 1rem;
        letter-spacing: 3px;
    }

    /* ê²€ìƒ‰ ì¡°íšŒ ê²°ê³¼ */
    #container-top {
        display: flex;
        justify-content: space-between;
        width: 900px;
        margin-top: 30px;
    }
    #container-top select {
        cursor: pointer;
        padding: 3px;
        border-radius: 5px;
        font-size: 1rem;
    }
    #container-top select:focus-visible {
        outline: none;
    }

    .card-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        row-gap: 20px;

        max-width: 1700px;
        margin-top: -630px;
        padding: 100px;
    }

    .card {
        display: flex;
        flex-direction: row;

        width: 1000px;
        height: 300px;
        margin: auto;

        border: 1px solid #dfe1e5;
        border-radius: 13px;
        box-shadow: 0 0 5px 0 #dfe1e5;

        cursor: pointer;
        overflow: hidden;
    }

    .card-img {
        aspect-ratio: 1/1;
        border-right: 1px solid #dfe1e5;
    }

    .card-img img {
        width: 100%;
        aspect-ratio: 1/1;
        object-fit: contain;
    }

    .card-content {
        width: 100%;

        display: grid;
        grid-template-columns: 1fr 1fr 1fr 1fr;
        grid-template-rows: 7fr 3fr 3fr 10fr;
        grid-template-areas:
            "title title title title"
            "app app applicant applicant"
            "status ipc ipc ipc"
            "summary summary summary summary";
        align-items: center;
    }

    .card-flag {
        grid-area: title;
        width: 10%;
        display: flex;
        justify-content: center;
    }
    .card-flag img {
        height: 20px;
    }

    .card-title {
        display: -webkit-box;
        grid-area: title;
        overflow: hidden;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;

        width: 80%;
        margin: auto;

        font-size: 1.3rem;
        font-weight: bold;
    }

    .card-app {
        display: flex;
        grid-area: app;

        margin-left: 15px;

        font-weight: bold;
    }

    .card-applicant {
        display: flex;
        grid-area: applicant;

        width: 90%;
        margin: auto;
    }

    .card-applicant div {
        word-break: keep-all;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .card-status {
        display: flex;
        grid-area: status;

        margin-left: 15px;

        font-weight: bold;
    }

    .card-ipc {
        display: flex;
        grid-area: ipc;

        width: 90%;
    }

    .card-ipc div {
        word-break: keep-all;
        text-overflow: ellipsis;
        white-space: nowrap;
    }

    .card-summary {
        display: -webkit-box;
        grid-area: summary;
        overflow: hidden;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;

        width: 95%;
        margin: auto;

        color: #999999;
    }

    .card-info {
        margin-right: 10px;
        padding: 0 5px;

        border: 1px solid #82c5f1;
        border-radius: 5px;
        background-color: #e8f6fe;

        color: black;
        font-weight: bold;
    }

    .card-notinfo {
        overflow: hidden;
    }

    #pagenation {
        display: flex;
        margin-top: 40px;

        background-color: white;
        border-radius: 15px;
        box-shadow: 0 5px 10px 0 #dfe1e5;
        overflow: hidden;
    }

    #pagenation button {
        width: 35px;
        height: 35px;
        background-color: transparent;
        border: none;
        border-radius: 50%;
    }

    #pagenation button:hover {
        background-color: #00000010;
    }

    #pagenation button.active {
        font-weight: bold;
        border-radius: 50%;
        background-color: #dfe1e5;
    }
</style>
<script>
    let contentType = [];
    let contentValue = [];
    let exceptType = [];
    let exceptValue = [];
    let totalPage;
    let firstPage = 1;
    let data = {};

    // ê²€ìƒ‰íƒ­ ë²„íŠ¼
    $(document).on("click", "#korean, #foreign", function () {
        if ($(this).hasClass("color-border-button")) {
            $(".card-container").children().not("#pagenation, #container-top").remove();
            $("#container-top").children("div").remove();
            $("#container-top").css("display", "none")
            $("#pagenation").css("display", "none")
            $("#pagenation").before('<h2 style="text-align: center;">ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš” ğŸ˜ƒ</h2>');
            $("#container-top > select > option:contains('ì •í™•ë„ìˆœ')").prop("selected", true);

            $(this).removeClass("color-border-button").addClass("dark-color-button");
            $(this).siblings().removeClass("dark-color-button").addClass("color-border-button");
            contentType = [];
            contentValue = [];
            exceptType = [];
            exceptValue = [];
            $("input[type=checkbox]").prop("checked", true);
            if ($(this).attr("id") == "korean") {
                $(".korean").css("display", "");
                $(".foreign").css("display", "none");
            }
            else {
                $(".foreign").css("display", "");
                $(".korean").css("display", "none");
            }
            $()
        }
    })

    // ê²€ìƒ‰ ì—”í„° ë˜ëŠ” ë²„íŠ¼
    $(document).on("keyup", "#search-input", function (e) {
        // input ì— focus ë˜ìˆì„ ë•Œ ì—”í„° ì…ë ¥ì‹œ
        if (e.key === "Enter") {

            var input_value = $(this).val().replace(/\s+/g, ' ').trim(); // ê°’ ê°€ì ¸ì˜¤ê¸°

            // ê°’ì´ ì—†ìœ¼ë©´ ë„˜ì–´ê°€ê¸°
            if (input_value !== "") {
                $("#search-input").val(input_value);
                search(input_value);
            } else {
                $("#search-input").val(input_value);
            }
        }
    });
    $(document).on("click", ".search-button", function () {
        var input_value = $("#search-input").val().replace(/\s+/g, ' ').trim(); // ê°’ ê°€ì ¸ì˜¤ê¸°

        // ê°’ì´ ì—†ìœ¼ë©´ ë„˜ì–´ê°€ê¸°
        if (input_value !== "") {
            $("#search-input").val(input_value);
            search(input_value);
        } else {
            $("#search-input").val(input_value);
        }
    });

    // ê²€ìƒ‰ ê²°ê³¼ ë‚˜íƒ€ë‚´ê¸°
    function search(input_value) {
        if (contentType.length + exceptType == 0) {
            $(".side-bar").css("display", "")
            $("#top-button").css("display", "")
            $("body").css("background-color", "")
            $(".search-bar").css("margin-top", "")
            $("#search-area").next().css("display", "")
            $("#logo").css("display", "")
            $("#big-logo").css("display", "none")
            data.page = 1;
        }

        // ê²€ìƒ‰ì–´ ì…ë ¥ì„ í†µí–ˆì„ë•Œ
        if (input_value != null) {
            if ($("input[value='re-search']").is(":checked")) {
                contentType = []; contentValue = []; exceptType = []; exceptValue = []; page = 1;
                contentType.push($("#select-option").children("option:selected").attr("name"));
                contentValue.push(input_value);
            } else if ($("input[value='include-search']").is(":checked")) {
                contentType.push($("#select-option").children("option:selected").attr("name"));
                contentValue.push(input_value);
            } else if ($("input[value='except-search']").is(":checked")) {
                exceptType.push($("#select-option").children("option:selected").attr("name"));
                exceptValue.push(input_value);
            }
        }

        // í•„í„°ë§ ì ìš©í•  ë•Œ, ê¸°ì¡´ì— ì…ë ¥ëœ ê²€ìƒ‰ì–´ê°€ ì—†ë‹¤ë©´ ì‘ë™ ì•ˆë¨
        if (contentType.length == 0) {
            return;
        }
        data.contentType = contentType,
            data.contentValue = contentValue,
            data.exceptType = exceptType,
            data.exceptValue = exceptValue
        if ($("#korean").hasClass("dark-color-button")) koreanData();
        else foreignData();

    }

    function koreanData() {
        // íŠ¹í—ˆ/ì‹¤ìš© êµ¬ë¶„
        if ($("input[value='íŠ¹í—ˆ']").is(":checked") & !$("input[value='ì‹¤ìš©']").is(":checked")) { data.patentType = "íŠ¹í—ˆ" }
        if ($("input[value='ì‹¤ìš©']").is(":checked") & !$("input[value='íŠ¹í—ˆ']").is(":checked")) { data.patentType = "ì‹¤ìš©" }

        // ìƒíƒœ í•„í„°ë§ ì ìš©
        let statusType = [];
        let select = $("#select-status").find("input[name='select']")
        if (!$("#select-status").find("input[name='select-all']").is(":checked")) {
            for (let i = 0; i < 7; i++) {
                if (select[i].checked) {
                    statusType.push(select[i].value);
                    if (select[i].value == "ì†Œë©¸ (ë“±ë¡ë£Œë¶ˆë‚©)") {
                        statusType.push("ì†Œë©¸ (ì¡´ì†ê¸°ê°„ë§Œë£Œ)");
                    }
                }
            }
            data.statusType = statusType;
        }
        koreanSearch();
    }
    function foreignData() {
        // êµ­ê°€ í•„í„°ë§ ì ìš©
        let country = [];
        let select = $("#select-country").find("input[name='select']")
        if (!$(".foreign").find("input[name='select-all']").is(":checked")) {
            for (let i = 0; i < 25; i++) {
                if (select[i].checked) {
                    country.push(select[i].value);
                }
            }
            data.country = country;
        } else delete data.country;
        foreignSearch();
    }

    function koreanSearch() {
        $.ajax({
            type: "GET",
            url: "/patent/korean",
            data: data,
            success: function (response) {
                commonResponse(response.totalhits);
                let patent = response.patentres;
                for (let i = 0; i < patent.length; i++) {
                    let card = patent[i];
                    let title = (card["ë°œëª…ì˜ëª…ì¹­"] != null) ? card["ë°œëª…ì˜ëª…ì¹­"] : "ì œëª©ì´ ì—†ìŠµë‹ˆë‹¤";
                    let applicant = (card["ì¶œì›ì¸"] != null) ? card["ì¶œì›ì¸"] : "ì¶œì›ì¸ì´ ì—†ìŠµë‹ˆë‹¤";
                    let application_number = card["ì¶œì›ë²ˆí˜¸"].replace(/-/g, "");
                    let ipc = (card["ipcë¶„ë¥˜"] != null) ? card["ipcë¶„ë¥˜"].split("|") : "IPCê°€ ì—†ìŠµë‹ˆë‹¤";
                    let status = card["ë²•ì ìƒíƒœ"];
                    if (status == "ì†Œë©¸ (ë“±ë¡ë£Œë¶ˆë‚©)" || status == "ì†Œë©¸ (ì¡´ì†ê¸°ê°„ë§Œë£Œ)") status = "ì†Œë©¸";
                    let summary = card["ìš”ì•½"] != null ? card["ìš”ì•½"] : "ìš”ì•½ì´ ì—†ìŠµë‹ˆë‹¤";
                    let temphtml = `<div class="card" id="${application_number}" onclick="window.open('http://kpat.kipris.or.kr/kpat/biblio/biblioMain_pdfAcrobat.jsp?method=fullText&applno=${application_number}',
																									'window_name', 'width=500, height=750, location=no, status=no, scrollbars=yes');">
										<div class="card-img"><img src="http://kpat.kipris.or.kr/kpat/remoteFile.do?method=bigFrontDraw&applno=${application_number}"></div>
										<div class="card-content">
											<div class="card-title">${title}</div>
											<div class="card-app">
												<div class="card-info">ì¶œì›ë²ˆí˜¸</div>
												<div>${card["ì¶œì›ë²ˆí˜¸"]} (${card["ì¶œì›ì¼ì"]})</div>
											</div>
											<div class="card-applicant">
												<div class="card-info">ì¶œì›ì¸</div>
												<div class="card-notinfo">${applicant}</div>
											</div>
											<div class="card-status">
												<div class="card-info">í–‰ì •ìƒíƒœ</div>
												<div style="margin-right: 25px;">${status}</div>
											</div>
											<div class="card-ipc">
												<div class="card-info">IPC</div>
												<div class="card-notinfo">${ipc}</div>
											</div>
											<div class="card-summary"><div class="card-info" style="display: inline-block;">ìš”ì•½</div>${summary}</div>
										</div>
									</div>`;
                    $("#pagenation").before(temphtml);
                }
                totalPage = response.pagecount;
                $("#pagenation").empty();
                pageBar();
            }
        });
    }
    function foreignSearch() {
        $.ajax({
            type: "GET",
            url: "/patent/foreign",
            data: data,
            success: function (response) {
                commonResponse(response.totalhits);
                let patent = response.patentres;
                for (let i = 0; i < patent.length; i++) {
                    let card = patent[i];
                    let title = (card["ë°œëª…ì˜ëª…ì¹­"] != null) ? card["ë°œëª…ì˜ëª…ì¹­"] : "ì œëª©ì´ ì—†ìŠµë‹ˆë‹¤";
                    let applicant = (card["ì¶œì›ì¸"] != null) ? card["ì¶œì›ì¸"] : "ì¶œì›ì¸ì´ ì—†ìŠµë‹ˆë‹¤";
                    let application_number = card["ì¶œì›ë²ˆí˜¸"].replace(/-/g, "");
                    let country = card["êµ­ê°€"].split(",");
                    let ipc = (card["ipcë¶„ë¥˜"] != null) ? card["ipcë¶„ë¥˜"].split(",") : "IPCê°€ ì—†ìŠµë‹ˆë‹¤";
                    let summary = card["ìš”ì•½"] != null ? card["ìš”ì•½"] : "ìš”ì•½ì´ ì—†ìŠµë‹ˆë‹¤";
                    let temphtml = `<div class="card" id="${application_number}" onclick="window.open('http://kpat.kipris.or.kr/kpat/biblio/biblioMain_pdfAcrobat.jsp?method=fullText&applno=${application_number}',
																									'window_name', 'width=500, height=750, location=no, status=no, scrollbars=yes');">
										<div class="card-img"><img src="http://kpat.kipris.or.kr/kpat/remoteFile.do?method=bigFrontDraw&applno=${application_number}"></div>
										<div class="card-content">
                                            <div class="card-flag">
                                                <img src="/img/flag/icon_${country[1]}.gif">
                                            </div>
											<div class="card-title">${title}</div>
											<div class="card-app">
												<div class="card-info">ì¶œì›ë²ˆí˜¸</div>
												<div>${card["ì¶œì›ë²ˆí˜¸"]}(${card["ì¶œì›ì¼ì"]})</div>
											</div>
											<div class="card-applicant">
												<div class="card-info">ì¶œì›ì¸</div>
												<div class="card-notinfo">${applicant}</div>
											</div>
											<div class="card-status">
												<div class="card-info">êµ­ê°€</div>
												<div style="margin-right: 25px;">${country[0]}</div>
											</div>
											<div class="card-ipc">
												<div class="card-info">IPC</div>
												<div class="card-notinfo">${ipc}</div>
											</div>
											<div class="card-summary"><div class="card-info" style="display: inline-block;">ìš”ì•½</div>${summary}</div>
										</div>
									</div>`;
                    $("#pagenation").before(temphtml);
                }
                totalPage = response.pagecount;
                $("#pagenation").empty();
                pageBar();
            }
        });
    }

    function commonResponse(totalhits) {
        $(".card-container").children().not("#pagenation, #container-top").remove();
        if (totalhits == 0) {
            $("#container-top").css("display", "none")
            $("#pagenation").css("display", "none")
            $("#pagenation").before('<h2 style="text-align: center;">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤ ğŸ˜¥</h2>');
            return;
        }
        $("#pagenation").css("display", "")
        $("#container-top").children("div").remove();
        $("#container-top").css("display", "")
        $("#container-top").prepend(`<div style="color: gray; padding-top: 6px;">ê²€ìƒ‰ê²°ê³¼: ${Number(totalhits).toLocaleString("en-US")}ê±´</div>`);
    }

    function pageBar() {
        $("#pagenation").append("<button>âŸª</button><button>âŸ¨</button>");
        for (i = 0; i < 10; i++) {
            let p = firstPage + i
            if (p > totalPage) break;
            if (p == data.page) {
                $("#pagenation").append(`<button class="active">${p}</button>`)
            } else {
                $("#pagenation").append(`<button>${p}</button>`)
            }
        }
        $("#pagenation").append("<button>âŸ©</button><button>âŸ«</button>");
    }

    $(document).on("click", "#pagenation > button", function () {
        let clickpage = $(this).text();
        if (!isNaN(clickpage * 1)) {
            data.page = clickpage * 1;
        } else {
            let tempPage;
            let tempFirst = firstPage;
            switch (clickpage) {
                case "âŸª":
                    tempPage = firstPage - 1;
                    tempFirst -= 10;
                    break;
                case "âŸ¨":
                    tempPage = data.page - 1;
                    if (tempPage == firstPage - 1) {
                        tempFirst -= 10;
                    }
                    break;
                case "âŸ©":
                    tempPage = data.page + 1;
                    if (tempPage == firstPage + 10) {
                        tempFirst = tempPage;
                    }
                    break;
                case "âŸ«":
                    tempPage = firstPage + 10;
                    tempFirst = tempPage;
                    break;
            }
            if (tempPage > 0 && tempPage <= totalPage && tempPage <= 500) data.page = tempPage;
            if (tempFirst >= 1 && tempFirst <= totalPage) firstPage = tempFirst;
        }
        if ($("#korean").hasClass("dark-color-button")) koreanSearch();
        else foreignSearch();
    })

    function foreignImage(country) {
        switch(country) {
            case "CN":

                break;
        
            default:
                break;
        }
    }

    // ì •ë ¬ ê¸°ëŠ¥
    $(document).on("change", "#container-top > select", function () {
        let sort = $("#container-top > select").children("option:selected").text();
        if(sort == "ì •í™•ë„ìˆœ") delete data.sortType
        else data.sortType = sort;
        data.page = 1;
        if ($("#korean").hasClass("dark-color-button")) koreanSearch();
        else foreignSearch();
    });
</script>

<body style="background-color: #82c5f1;">
    <div th:replace="fragments/index.html :: infoModalFragment"></div>
    <nav class="navigation-bar scroll-up">
        <div id="logo" style="display: none; height: 65px;" onclick="window.location.reload()">
            <img src="/img/hellopatent_logo.png" style="height: 70px;">
        </div>
    </nav>
    <div style="background-color: #82c5f1;">
        <div style="height: 70px;"></div>
        <div class="search-bar" style="margin-top: 10%;">
            <img id="big-logo" src="/img/hellopatent_biglogo.png" style="width: 300px; margin-bottom: 50px;">
            <div id="search-tab" style="width: 760px; margin-bottom: 10px;">
                <button class="dark-color-button" id="korean"
                    style="width: 160px; height: 40px; font-size: 1rem;">êµ­ë‚´íŠ¹í—ˆì‹¤ìš©ì‹ ì•ˆ</button>
                <button class="color-border-button" id="foreign"
                    style="width: 100px; height: 40px; font-size: 1rem;">í•´ì™¸íŠ¹í—ˆ</button>
            </div>
            <div th:replace="fragments/index.html :: searchAreaFragment"></div>
            <div style="margin-top: 15px; display: none;">
                <label class="tooltip" style="margin-right: 20px;"><input type="radio" name="search-type"
                        value="re-search" checked>ê¸°ë³¸ê²€ìƒ‰
                    <span class="tooltip-text">â“ ê¸°ì¡´ ê²€ìƒ‰ ë‚´ìš©ì„ ì‚­ì œí•˜ê³  ìƒˆë¡œ ê²€ìƒ‰í•©ë‹ˆë‹¤</span>
                </label>
                <label class="tooltip" style="margin-right: 20px;"><input type="radio" name="search-type"
                        value="include-search">í¬í•¨ê²€ìƒ‰
                    <span class="tooltip-text">â“ ê²°ê³¼ ë‚´ì—ì„œ í¬í•¨í•  í‚¤ì›Œë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤</span>
                </label>
                <label class="tooltip" style="margin-right: 20px;"><input type="radio" name="search-type"
                        value="except-search">ì œì™¸ê²€ìƒ‰
                    <span class="tooltip-text">â“ ê²°ê³¼ ë‚´ì—ì„œ ì œì™¸í•  í‚¤ì›Œë“œë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤</span>
                </label>
            </div>
        </div>
    </div>
    <div class="main">
        <button class="color-border-button" id="top-button" onclick="$('html, body').animate({scrollTop:0}, '300' );"
            style="display: none;">â–³TOP</button>
        <button class="tooltip color-border-button" id="info-button" onclick='$("#info").addClass("on")'>
            <span class="tooltip-text" style="width: 120px; right: -20px; top: -45px;">â“ íŠ¹í—ˆ ìš©ì–´ ì„¤ëª…</span>?</button>
        <div class="side-bar" style="display: none;">
            <div id="side-content">
                <div style="display: flex; justify-content: space-between;">
                    <div id="hide-side">â—€ì ‘ê¸°</a></div>
                </div>
                <div class="korean">
                    <h2 style="color: #3995d0;">ê¶Œë¦¬êµ¬ë¶„</h2>
                    <div class="select-filter">
                        <label style="grid-column-start: 1; grid-column-end: 3;"><input type="checkbox" value="íŠ¹í—ˆ"checked>
                            <div class="custom-checkbox"></div>íŠ¹í—ˆ</label>
                        <label><input type="checkbox" value="ì‹¤ìš©" checked><div class="custom-checkbox"></div>ì‹¤ìš©</label>
                    </div>
                    <h2 style="color: #3995d0;">í–‰ì •ìƒíƒœ</h2>
                    <div class="select-filter" id="select-status">
                        <label><input type="checkbox" name="select-all" checked><div class="custom-checkbox"></div>ì „ì²´</label>
                        <label><input type="checkbox" name="select" value="ê±°ì ˆ" checked><div class="custom-checkbox"></div>ê±°ì ˆ</label>
                        <label><input type="checkbox" name="select" value="ë“±ë¡" checked><div class="custom-checkbox"></div>ë“±ë¡</label>
                        <label><input type="checkbox" name="select" value="ì†Œë©¸ (ë“±ë¡ë£Œë¶ˆë‚©)" checked><div class="custom-checkbox"></div>ì†Œë©¸</label>
                        <label><input type="checkbox" name="select" value="ë¬´íš¨" checked><div class="custom-checkbox"></div>ë¬´íš¨</label>
                        <label><input type="checkbox" name="select" value="ì·¨í•˜" checked><div class="custom-checkbox"></div>ì·¨í•˜</label>
                        <label><input type="checkbox" name="select" value="í¬ê¸°" checked><div class="custom-checkbox"></div>í¬ê¸°</label>
                        <label><input type="checkbox" name="select" value="ê³µê°œ" checked><div class="custom-checkbox"></div>ê³µê°œ</label>
                    </div>
                </div>
                <div class="foreign" style="display: none;">
                    <h2 style="color: #3995d0;">êµ­ê°€</h2>
                    <label style="cursor: pointer; display: flex; margin-bottom: 10px;"><input type="checkbox"
                            name="select-all" checked><div class="custom-checkbox"></div>ì „ì²´</label>
                    <div class="select-filter" id="select-country">
                        <label><input type="checkbox" name="select" value="ë¯¸êµ­" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_US.gif">ë¯¸êµ­</label>
                        <label><input type="checkbox" name="select" value="ìœ ëŸ½" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_EP.gif">ìœ ëŸ½</label>
                        <label><input type="checkbox" name="select" value="PCT" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_WO.gif">PCT</label>
                        <label><input type="checkbox" name="select" value="ì¼ë³¸" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_JP.gif">ì¼ë³¸</label>
                        <label><input type="checkbox" name="select" value="ì¤‘êµ­" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_CN.gif">ì¤‘êµ­</label>
                        <label><input type="checkbox" name="select" value="ì˜êµ­" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_GB.gif">ì˜êµ­</label>
                        <label><input type="checkbox" name="select" value="ë…ì¼" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_DE.gif">ë…ì¼</label>
                        <label><input type="checkbox" name="select" value="í”„ë‘ìŠ¤" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_FR.gif">í”„ë‘ìŠ¤</label>
                        <label><input type="checkbox" name="select" value="í˜¸ì£¼" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_AU.gif">í˜¸ì£¼</label>
                        <label><input type="checkbox" name="select" value="ìºë‚˜ë‹¤" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_CA.gif">ìºë‚˜ë‹¤</label>
                        <label><input type="checkbox" name="select" value="ëŒ€ë§Œ" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_TW.gif">ëŒ€ë§Œ</label>
                        <label><input type="checkbox" name="select" value="ì´ìŠ¤ë¼ì—˜" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_IL.gif">ì´ìŠ¤ë¼ì—˜</label>
                        <label><input type="checkbox" name="select" value="ìŠ¤í˜ì¸" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_ES.gif">ìŠ¤í˜ì¸</label>
                        <label><input type="checkbox" name="select" value="í•„ë¦¬í•€" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_PH.gif">í•„ë¦¬í•€</label>
                        <label><input type="checkbox" name="select" value="ìŠ¤ì›¨ë´" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_SE.gif">ìŠ¤ì›¨ë´</label>
                        <label><input type="checkbox" name="select" value="ëŸ¬ì‹œì•„" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_RU.gif">ëŸ¬ì‹œì•„</label>
                        <label><input type="checkbox" name="select" value="ì˜¤ìŠ¤íŠ¸ë¦¬ì•„" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_AT.gif">ì˜¤ìŠ¤íŠ¸ë¦¬ì•„</label>
                        <label><input type="checkbox" name="select" value="ë´ë§ˆí¬" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_DK.gif">ë´ë§ˆí¬</label>
                        <label><input type="checkbox" name="select" value="í¬ë¥´íˆ¬ê°ˆ" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_PT.gif">í¬ë¥´íˆ¬ê°ˆ</label>
                        <label><input type="checkbox" name="select" value="ìŠ¤ìœ„ìŠ¤" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_CH.gif">ìŠ¤ìœ„ìŠ¤</label>
                        <label><input type="checkbox" name="select" value="í´ë€ë“œ" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_PL.gif">í´ë€ë“œ</label>
                        <label><input type="checkbox" name="select" value="ìŠ¬ë¡œë² ë‹ˆì•„" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_SI.gif">ìŠ¬ë¡œë² ë‹ˆì•„</label>
                        <label><input type="checkbox" name="select" value="ì½œë¡¬ë¹„ì•„" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_CO.gif">ì½œë¡¬ë¹„ì•„</label>
                        <label><input type="checkbox" name="select" value="ìœ ë¼ì‹œì•„" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_EA.gif">ìœ ë¼ì‹œì•„</label>
                        <label><input type="checkbox" name="select" value="ì„¸ë¥´ë¹„ì•„" checked><div class="custom-checkbox"></div><img src="/img/flag/icon_RS.gif">ì„¸ë¥´ë¹„ì•„</label>
                    </div>
                </div>
                <button class="color-border-button" id="apply-filter" onclick="search()">ì ìš©</button>
            </div>
        </div>
        <div class="card-container">
            <div id="container-top">
                <select>
                    <option>ì •í™•ë„ìˆœ</option>
                    <option>ìµœì‹ ìˆœ</option>
                    <option>ì˜¤ë˜ëœìˆœ</option>
                </select>
            </div>
            <div id="pagenation">
            </div>
        </div>
    </div>
</body>
<script>
    // ì œì™¸ ê²€ìƒ‰ ì²´í¬ ì‹œ ìƒ‰ìƒ ë³€ê²½
    $(document).on("change", "input[name='search-type']", function () {
        if ($("input[value='except-search']")[0].checked) $("#select-option").css("color", "red")
        else $("#select-option").css("color", "");
        changePlaceholder();
    })

    // ë“œë¡­ë‹¤ìš´ í•­ëª©ì— ë”°ë¼ placeholder ë³€ê²½
    $(document).on("change", "#select-option", function () {
        changePlaceholder();
    });
    function changePlaceholder() {
        if ($("input[value='except-search']")[0].checked) $("#search-input").attr("placeholder", $("#select-option").children("option:selected")[0].getAttribute("value2"))
        else $("#search-input").attr("placeholder", $("#select-option")[0].value)
    }

    // í•„í„°ë§ ì²´í¬ë°•ìŠ¤ ì „ì²´ì„ íƒ ê¸°ëŠ¥
    $(document).on("click", "input[name=select-all]", function () {
        if ($(this).is(":checked")) $(this).parent().siblings().find("input[name=select]").prop("checked", true);
        else $(this).parent().siblings().find("input[name=select]").prop("checked", false);
    });
    $(document).on("click", "input[name=select]", function () {
        var total = $(this).parent().parent().find("input[name=select]").length;
        var checked = $(this).parent().parent().find("input[name=select]:checked").length;

        if (total != checked) { $(this).parent().parent().parent().find("input[name=select-all]").prop("checked", false) }
        else $(this).parent().parent().parent().find("input[name=select-all]").prop("checked", true);
    });

    // ì‚¬ì´ë“œë°” ìˆ¨ê¸°ê¸°
    $(document).on("click", "#hide-side", function () {
        $(".side-bar").addClass("show-side");
        $("#side-content").hide();
        let temp = '<div style="cursor: pointer; width: 10px; margin: auto; color: #999999" id="show-side">â–¶</div>'
        $(".side-bar").prepend(temp)
    })
    $(document).on("click", "#show-side", function () {
        $(".side-bar").removeClass("show-side");
        $(this).remove();
        setTimeout(() => $("#side-content").show(100), 200)
    });
</script>
<script>
    // ìŠ¤í¬ë¡¤ì— ë”°ë¼ ìƒë‹¨ë°” ë³´ì´ê¸°/ìˆ¨ê¸°ê¸°

    let didScroll;
    let lastScrollTop = 0;
    let delta = 300; // ë™ì‘ì˜ êµ¬í˜„ì´ ì‹œì‘ë˜ëŠ” ìœ„ì¹˜
    let navbarHeight = 70; // ì˜í–¥ì„ ë°›ì„ ìš”ì†Œë¥¼ ì„ íƒ

    // ìŠ¤í¬ë¡¤ ì—¬ë¶€ ì•Œë ¤ì£¼ê¸°
    $(window).scroll(function (event) {
        didScroll = true;
    });

    /* hasScrolled() ì‹¤í–‰
        didScroll ì¬ì„¤ì • */
    setInterval(function () {
        if (didScroll) {
            hasScrolled();
            didScroll = false;
        }
    }, 250);

    // ê¸°ëŠ¥ êµ¬í˜„
    function hasScrolled() {

        // í˜„ì¬ ìŠ¤í¬ë¡¤ ìœ„ì¹˜ ì €ì¥
        var st = $(this).scrollTop();

        // ì„¤ì •í•œ delta ê°’ë³´ë‹¤ ë” ìŠ¤í¬ë¡¤ë˜ì—ˆëŠ”ì§€ í™•ì¸
        if (Math.abs(lastScrollTop - st) <= delta) {
            return;
        }

        /* ìƒë‹¨ë°” ë†’ì´ë³´ë‹¤ ë” ìŠ¤í¬ë¡¤ë˜ì—ˆëŠ”ì§€ í™•ì¸
            ìŠ¤í¬ë¡¤ ë°©í–¥ í™•ì¸ */
        if (st > lastScrollTop && st > navbarHeight) {
            // Scroll Down
            $(".navigation-bar").removeClass('scroll-up').addClass('scroll-down');
        } else {
            // Scroll Up
            if (st + $(window).height() < $(document).height()) {
                $('.navigation-bar').removeClass('scroll-down').addClass('scroll-up');
            }
        }

        // ìŠ¤í¬ë¡¤ ì–´ëŠì •ë„ ë‚´ë¦¬ë©´ ìƒë‹¨ë°”ë¡œ ê²€ìƒ‰ë°” ì˜®ê¸°ê¸°
        if (st < delta + 700) {
            // ìœ„ìª½
            if ($(".search-bar").find("#search-input").length == 0) {
                $("#search-area").fadeOut(300, function () {
                    $("#search-input").removeAttr("style");
                    $("#search-tab").after($(this));
                    $(this).fadeIn(10);
                })
            }
        } else {
            // ì•„ë˜ìª½
            $("#search-input").css("box-shadow", "none");
            // $(".navigation-bar").prepend($("#search-area"));
            $("#logo").after($("#search-area"))
        }

        // lastScrollTop ì— í˜„ì¬ ìŠ¤í¬ë¡¤ìœ„ì¹˜ë¥¼ ì €ì¥
        lastScrollTop = st;
    }

    /* ì¶”ê°€ë¡œ ì›¹í˜ì´ì§€ì˜ ìŠ¤í¬ë¡¤ì„ ë‚´ë ¸ì„ë•Œë¥¼ ê°ì§€í•´ ì½”ë“œë¥¼ ì‹¤í–‰ì‹œí‚¤ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.
    $(window).scroll(function(){ 
    if($(window).scrollTop() == $(document).height() - $(window).height()){ 
        // ì‹¤í–‰í•  í•¨ìˆ˜
    } 
    });
    */
</script>

</html>